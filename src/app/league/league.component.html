<h2>順位計算設定</h2>
<div class="rate">
    <div>
        <div class="point-setting">
            <label>勝ち：</label>
            <input type="text" class="point-form" value=3 #winPoint>点
            <br>
            <label>分け：</label>
            <input type="text" class="point-form" value=1 #drawPoint>点
            <br>
            <label>負け：</label>
            <input type="text" class="point-form" value=0 #losePoint>点
        </div>
        <div class="winner-setting">
            <label>各グループの上位</label>
            <input type="text" class="winner-form">人まで勝ち上がり
        </div>
    </div>
    <div class="other-setting">
        <input type="checkbox">得失点差を考慮する
        <br>
        <button (click)="updateLeagues(winPoint.value, drawPoint.value, losePoint.value)">結果を更新する</button>
    </div>
</div>
<hr>
<h2>リーグ表</h2>
<div *ngIf="linkages">
    <div id="group-1" *ngFor="let group of groups">
        <h3 *ngIf="group">{{group.name}}</h3>
        <div class="match-list" *ngIf="matchInformations">
            <div *ngFor="let round of getRoundNumber(group.id); let i = index;">
                <p>------- 第{{i + 1}}回戦 -------</p>
                <div *ngFor="let matchInfo of getMatchInformationsOfEachGroups(group.id, i + 1)">
                    <table class="round">
                        <tr>
                            <td>{{matchInfo.match[0].name}}</td>
                            <td>
                                <div class="result">
                                    <button class="result-win"
                                        (click)="buttonPushedProcessing(0, matchInfo, matchInfo.match[0].id)"
                                        [class.pushed-win]="isPushed(0, matchInfo.id)">
                                        ○
                                    </button>
                                    <button class="result-draw" (click)="buttonPushedProcessing(1, matchInfo)"
                                        [class.pushed-draw]="isPushed(1, matchInfo.id)">
                                        △
                                    </button>
                                    <button class=" result-win"
                                        (click)="buttonPushedProcessing(2, matchInfo, matchInfo.match[1].id)"
                                        [class.pushed-win]="isPushed(2, matchInfo.id)">
                                        ○
                                    </button>
                                </div>
                                <div class=" score">
                                    <input type="text" class="score-form"> - <input type="text" class="score-form">
                                </div>
                            </td>
                            <td>{{matchInfo.match[1].name}}</td>
                        </tr>
                    </table>
                </div>
                <div class="round">
                    {{getBreakPlayerMessage(group.id, i + 1)}}
                </div>
            </div>
        </div>
        <div class="league">
            <table border=1 *ngIf="matchInformations">
                <tr>
                    <td></td>
                    <td *ngFor="let player of getPlayersOfEachGroups(group.id)">
                        {{player.name}}
                    </td>
                    <td>勝ち点</td>
                    <td>得点</td>
                    <td>失点</td>
                    <td>得失点差</td>
                    <td>順位</td>
                </tr>
                <tr *ngFor="let player1 of getPlayersOfEachGroups(group.id)">
                    <td>
                        {{player1.name}}<mat-icon class="info">info</mat-icon>
                    </td>
                    <td class="result-cell" *ngFor="let player2 of getPlayersOfEachGroups(group.id)">
                        {{getMatchResultSymbol(group.id, player1.id, player2.id)}}
                    </td>
                    <td>{{player1.points}}</td>
                    <td>{{player1.gains}}</td>
                    <td>{{player1.losts}}</td>
                    <td>0</td>
                    <td>1</td>
                </tr>
            </table>
        </div>
    </div>
</div>